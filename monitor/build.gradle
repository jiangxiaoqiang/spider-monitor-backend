apply plugin: 'java'


buildscript {
    ext {
        springfoxVersion = '2.6.1'
        jacksonVersion = '2.8.7'

    }

	repositories {
		mavenCentral()
	}
	dependencies {
		classpath 'org.springframework.boot:spring-boot-gradle-plugin:1.5.19.RELEASE'
	}
}

group = 'dolphin.spider'
version = '0.0.1-SNAPSHOT'

task wrapper(type: Wrapper) {
    description = 'Generates gradlew[.bat] scripts'
    gradleVersion = '4.5'
}

allprojects {
    repositories {
        mavenCentral()
    }
}


project(':web') {
    apply plugin: 'java'
    apply plugin: 'org.springframework.boot'
    description = 'credit-system-webservice'
    dependencies {
        compile project(':service')
        compile project(':dolphin-common')
        compile('org.springframework.boot:spring-boot-starter')
        compile('org.springframework.boot:spring-boot-starter-cache')
        compile('org.springframework.boot:spring-boot-starter-web')
        compile("org.projectlombok:lombok:1.16.10")
        compile("com.zaxxer:HikariCP:2.6.0")
        compile("io.springfox:springfox-swagger2:${springfoxVersion}")
        compile group: 'io.swagger', name: 'swagger-annotations', version: '1.5.20'
        compile group: 'org.springframework.boot', name: 'spring-boot-gradle-plugin', version: '2.1.0.RELEASE', ext: 'pom'
        compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.5'
    }
}

project(':service') {
    apply plugin: 'java'
    apply plugin: 'org.springframework.boot'
    description = 'credit-system-webservice'
    dependencies {
        compile project(':data')
        compile('org.springframework.boot:spring-boot-starter')
        compile('org.springframework.boot:spring-boot-starter-cache')
        compile('org.springframework.boot:spring-boot-starter-web')
        compile("org.projectlombok:lombok:1.16.10")
    }
}

project(':data') {
    apply plugin: 'java'
    apply plugin: 'org.springframework.boot'
    description = 'credit-system-webservice'
    dependencies {
        compile project(':dolphin-common')
        compile('org.springframework.boot:spring-boot-starter')
        compile('org.springframework.boot:spring-boot-starter-cache')
        compile('org.springframework.boot:spring-boot-starter-web')
        compile("org.projectlombok:lombok:1.16.10")
        compile group: 'postgresql', name: 'postgresql', version: '9.1-901.jdbc4'
    }
}


project(':dolphin-common') {
    apply plugin: 'java'
    apply plugin: 'org.springframework.boot'
    description = 'credit-system-webservice'
    dependencies {
        compile("org.projectlombok:lombok:1.16.10")
        compile("io.springfox:springfox-swagger2:${springfoxVersion}")
        compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.5'
        compile group: 'org.mybatis.spring.boot', name: 'mybatis-spring-boot-starter', version: '1.3.0'
        compile group: 'org.mybatis', name: 'mybatis', version: '3.4.4'
        compile group: 'org.mybatis', name: 'mybatis-typehandlers-jsr310', version: '1.0.2'
        compile("com.fasterxml.jackson.datatype:jackson-datatype-jsr310:$jacksonVersion")
        compile group: 'io.swagger', name: 'swagger-annotations', version: '1.5.20'
        compile group: 'org.springframework.boot', name: 'spring-boot-autoconfigure', version: '2.1.0.RELEASE'


    }
}